# C compiler given below
CC=cc

# LIBRARY NAMES GIVEN BELOW
# LIBSX  = /home/daniel/hexa/libsx/src/libsx.a
LIBSX  = /home/daniel/femnet/libsx/src/libsx.a
# LIBS   =  $(LIBSX) -lXaw -lXmu -lXt -lX11 -lm
LIBS   =  $(LIBSX)  -L/usr/X11R6/lib/ -lXaw -lXmu -lXt -lX11 -lm
LIBRARIES=$(LIBS)

# LINKER GIVEN BELOW
LD=$(CC)

# LINKER FLAGS GIVEN BELOW
LDFLAGS= -g

# DEFINES
AR=ar
ARFLAGS=rv
CP=cp
RM=rm -f

# COMPILER FLAGS GIVEN BELOW
COMPILERFLAGS= -g
CFLAGS=$(COMPILERFLAGS)
FFLAGS=$(COMPILERFLAGS) -fuse_xref
PFLAGS=$(COMPILERFLAGS)
COBFLAGS=$(COMPILERFLAGS) -xref
CXXFLAGS=$(COMPILERFLAGS) -xref
CFLAGS = -O -DLINUX -I/usr/X11R6/include -L/usr/X11R6/lib
TRILIBDEFS = -DTRILIBRARY


# INCLUDE SEARCH PATH GIVEN BELOW
INCLUDES=-I/usr/openwin/share/include/

.SUFFIXES: .o .c

# SOURCES GIVEN BELOW
SRCS= phobos.c\
 fct_sx.c\
 chargement_don.c\
 chargement_sta.c\
 chargement_mdgsta.c\
 lire_fichier_mdgsta.c\
 alloc.c\
 quitter.c\
 redisplay.c\
 triangle.c\
 filet.c\
 filet_interne.c\
 init_display.c\
 dessiner_ps.c\
 Checked_menu.c\
 maillage.c\
 maillage_panneau1.c\
 maillage_panneau2.c\
 maillage_pan_hexa.c\
 maillage_element.c\
 maillage_winch.c\
 maillage_coulisse.c\
 zoom.c\
 gfx_base.c\
 postscript.c\
 elongation.c\
 multireq.c\
 nbmaille_triangle3.c\
 dessiner_axes.c\
 qsort.c\
 numerotation_balls.c\
 maillage_seam.c\
 numerotation.c\
 meshing_netting_2_ropes2\
 meshing_netting_2_ropes3


# OBJECTS GIVEN BELOW
OBJS= phobos.o\
 fct_sx.o\
 chargement_don.o\
 chargement_sta.o\
 chargement_mdgsta.o\
 lire_fichier_mdgsta.o\
 alloc.o\
 quitter.o\
 redisplay.o\
 triangle.o\
 filet.o\
 filet_interne.o\
 init_display.o\
 dessiner_ps.o\
 Checked_menu.o\
 maillage.o\
 maillage_panneau1.o\
 maillage_panneau2.o\
 maillage_pan_hexa.o\
 maillage_element.o\
 maillage_winch.o\
 maillage_coulisse.o\
 zoom.o\
 gfx_base.o\
 postscript.o\
 elongation.o\
 multireq.o\
 nbmaille_triangle3.o\
 dessiner_axes.o\
 qsort.o\
 numerotation_balls.o\
 maillage_seam.o\
 numerotation.o\
 meshing_netting_2_ropes2.o\
 meshing_netting_2_ropes3.o
 
phobos : $(OBJS)
	$(LD) -o $@ $(LDFLAGS) $(OBJS) $(LIBRARIES)

triangle.o: triangle.c triangle.h
	$(CC) $(CSWITCHES) $(TRILIBDEFS) -c -o triangle.o \
		triangle.c
.c.o:
	$(CC) -c $(CFLAGS) $(INCLUDES) `pwd`/$<


clean:
	$(RM) $(OBJS) core phobos

touchsrcs:
	touch $(SRCS)

lint:
	lint $(INCLUDES) $(SRCS) $(LINTLIBS)

depend:
	@test -w Makefile || (echo No write permission to makefile: Makefile; exit 1)
	@cat < /dev/null > makedep
	@for i in ${SRCS}; do \
		 ($(CC) -M $(INCLUDES) $$i >> makedep); done
#
# Remove the next two lines to keep dependencies on system include files
#
	@grep -v "\.o:[	 ]*/usr/include" makedep > makedep1
	@mv makedep1 makedep
	@echo '/^# DO NOT DELETE THIS LINE/+1,$$d' > eddep
	@echo '$$r makedep' >> eddep
	@echo 'w' >> eddep
	@${CP} Makefile Makefile.bak
	@ed - Makefile < eddep
	@$(RM) eddep makedep
	@echo '# DO NOT EDIT THIS FILE HERE.' >> Makefile
	@echo '# USER EDITS MUST PRECEDE THE COMMENT:' >> Makefile
	@echo '# "# DO NOT DELETE THIS LINE".' >> Makefile
	@echo '# see make depend above' >> Makefile

# DO NOT DELETE THIS LINE -- make depend uses it
phobos.o:	phobos.c
phobos.o:	phobos.h
phobos.o:	  libsx.h
phobos.o:	  triangle.h
phobos.o:	  const.h
fct_sx.o:	fct_sx.c
fct_sx.o:	phobos.h
fct_sx.o:	  libsx.h
fct_sx.o:	  triangle.h
fct_sx.o:	  const.h
chargement.o:	chargement.c
chargement.o:	phobos.h
chargement.o:	  libsx.h
chargement.o:	  triangle.h
chargement.o:	  const.h
chargement_mdgsta.o:	chargement_mdgsta.c
chargement_mdgsta.o:	phobos.h
chargement_mdgsta.o:	  libsx.h
chargement_mdgsta.o:	  triangle.h
chargement_mdgsta.o:	  const.h
lire_fichier_mdgsta.o:	lire_fichier_mdgsta.c
lire_fichier_mdgsta.o:	phobos.h
lire_fichier_mdgsta.o:	  libsx.h
lire_fichier_mdgsta.o:	  triangle.h
lire_fichier_mdgsta.o:	  const.h
quitter.o:	quitter.c
quitter.o:	phobos.h
quitter.o:	  libsx.h
quitter.o:	  triangle.h
quitter.o:	  const.h
redisplay.o:	redisplay.c
redisplay.o:	phobos.h
redisplay.o:	  libsx.h
redisplay.o:	  triangle.h
redisplay.o:	  const.h
triangle.o:	triangle.c
triangle.o:	triangle.h
maillage.o:	maillage.c
maillage.o:	phobos.h
maillage.o:	  libsx.h
maillage.o:	  triangle.h
maillage.o:	  const.h
filet.o:	filet.c
filet.o:	phobos.h
filet.o:	  libsx.h
filet.o:	  triangle.h
filet.o:	  const.h
filet_interne.o:	filet_interne.c
filet_interne.o:	phobos.h
filet_interne.o:	  libsx.h
filet_interne.o:	  triangle.h
filet_interne.o:	  const.h
init_display.o:	init_display.c
init_display.o:	phobos.h
init_display.o:	  libsx.h
init_display.o:	  triangle.h
init_display.o:	  const.h
dessiner_ps.o:	dessiner_ps.c
dessiner_ps.o:	phobos.h
dessiner_ps.o:	  libsx.h
dessiner_ps.o:	  triangle.h
dessiner_ps.o:	  const.h
Checked_menu.o:	Checked_menu.c
Checked_menu.o:	phobos.h
Checked_menu.o:	  libsx.h
Checked_menu.o:	  triangle.h
Checked_menu.o:	  const.h
maillage_element.o:	maillage_element.c
maillage_element.o:	phobos.h
maillage_element.o:	  libsx.h
maillage_element.o:	  triangle.h
maillage_element.o:	  const.h
zoom.o:	zoom.c
zoom.o:	phobos.h
zoom.o:	  libsx.h
zoom.o:	  triangle.h
zoom.o:	  const.h
direct.o:	direct.c
direct.o:	phobos.h
direct.o:	  libsx.h
direct.o:	  triangle.h
direct.o:	  const.h
numerotation.o:	numerotation.c
numerotation.o:	phobos.h
numerotation.o:	  libsx.h
numerotation.o:	  triangle.h
numerotation.o:	  const.h
# DO NOT EDIT THIS FILE HERE.
# USER EDITS MUST PRECEDE THE COMMENT:
# "# DO NOT DELETE THIS LINE".
# see make depend above
