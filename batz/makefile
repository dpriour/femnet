#MKLROOT = /opt/intel/composerxe-2011.3.174/mkl
#MKLROOT = /opt/intel/composer_xe_2011_sp1.6.233/mkl

# C COMPILER GIVEN BELOW
CC=cc

# LIBRARY NAMES GIVEN BELOW
# LIBSX  = /home/daniel/hexa/libsx/src/libsx.a
LIBSX  = /home/daniel/femnet/libsx/src/libsx.a

# LIBS   =  $(LIBSX)  -L/usr/X11R6/lib/ -lXaw -lXmu -lXt -lX11 -lm -Wl,--start-group $(MKLROOT)/lib/intel64/libmkl_intel_lp64.a $(MKLROOT)/lib/intel64/libmkl_gnu_thread.a $(MKLROOT)/lib/intel64/libmkl_core.a -Wl,--end-group -fopenmp -lpthread -fopenmp
LIBS   =  $(LIBSX)  -L/usr/X11R6/lib/ -lXaw -lXmu -lXt -lX11 -lm
# LIBS   =  $(LIBSX) -lXaw -lXmu -lXt -lX11 -lm -lXext -lsocket -lnsl
# LIBS   =  $(LIBSX) -lXaw -lXmu -lXt -lX11 -lm -lXext
LIBRARIES=$(LIBS)

# LINKER GIVEN BELOW
LD=$(CC)

# LINKER FLAGS GIVEN BELOW
LDFLAGS= 

# DEFINES
AR=ar
ARFLAGS=rv
CP=cp
RM=rm -f

# COMPILER FLAGS GIVEN BELOW
COMPILERFLAGS= 
CFLAGS=$(COMPILERFLAGS)
FFLAGS=$(COMPILERFLAGS) -fuse_xref
PFLAGS=$(COMPILERFLAGS)
COBFLAGS=$(COMPILERFLAGS) -xref
CXXFLAGS=$(COMPILERFLAGS) -xref

# INCLUDE SEARCH PATH GIVEN BELOW
INCLUDES= -I/usr/openwin/share/include/

.SUFFIXES: .o .c

# SOURCES GIVEN BELOW
SRCS= base1.c\
 batz.c\
 charger.c\
 dessiner_ps.c\
 dessiner_visualisation.c\
 dessiner_info_element.c\
 dessiner_info_noeud.c\
 fct_sx.c\
 init_display.c\
 lecture_don.c\
 lecturedo3.c\
 lecturesta.c\
 quitter.c\
 redisplay.c\
 rotation.c\
 qsort.c\
 filet.c\
 filet_hexa.c\
 gfx_base.c\
 postscript.c\
 volume.c\
 interieur_triangle.c\
 multireq.c\
 commentaire.c\
 checked_menu.c\
 alloc.c\
 lecturedyn.c\
 animation.c\
 animation2.c\
 anim_rotation2.c\
 zoom.c\
 ../unix_2004/nrutil.c

# OBJECTS GIVEN BELOW
OBJS= base1.o\
 batz.o\
 charger.o\
 dessiner_ps.o\
 dessiner_visualisation.o\
 dessiner_info_element.o\
 dessiner_info_noeud.o\
 fct_sx.o\
 init_display.o\
 lecturedo3.o\
 lecture_don.o\
 lecturesta.o\
 quitter.o\
 redisplay.o\
 rotation.o\
 qsort.o\
 filet.o\
 filet_hexa.o\
 gfx_base.o\
 postscript.o\
 volume.o\
 interieur_triangle.o\
 multireq.o\
 commentaire.o\
 checked_menu.o\
 alloc.o\
 lecturedyn.o\
 animation.o\
 animation2.o\
 anim_rotation2.o\
 zoom.o\
 ../unix_2004/nrutil.o


batz : $(OBJS)
	$(LD) -o $@ $(LDFLAGS) $(OBJS) $(LIBRARIES)
.c.o:
	$(CC) -c $(CFLAGS) $(INCLUDES) `pwd`/$<


clean:
	$(RM) $(OBJS) core batz

touchsrcs:
	touch $(SRCS)

lint:
	lint $(INCLUDES) $(SRCS) $(LINTLIBS)

depend:
	@test -w Makefile || (echo No write permission to makefile: Makefile; exit 1)
	@cat < /dev/null > makedep
	@for i in ${SRCS}; do \
		 ($(CC) -M $(INCLUDES) $$i >> makedep); done
#
# Remove the next two lines to keep dependencies on system include files
#
	@grep -v "\.o:[	 ]*/usr/include" makedep > makedep1
	@mv makedep1 makedep
	@echo '/^# DO NOT DELETE THIS LINE/+1,$$d' > eddep
	@echo '$$r makedep' >> eddep
	@echo 'w' >> eddep
	@${CP} Makefile Makefile.bak
	@ed - Makefile < eddep
	@$(RM) eddep makedep
	@echo '# DO NOT EDIT THIS FILE HERE.' >> Makefile
	@echo '# USER EDITS MUST PRECEDE THE COMMENT:' >> Makefile
	@echo '# "# DO NOT DELETE THIS LINE".' >> Makefile
	@echo '# see make depend above' >> Makefile

# DO NOT DELETE THIS LINE -- make depend uses it

